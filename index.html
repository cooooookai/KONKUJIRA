<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>バンド同期カレンダー</title>
    
    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.10/index.global.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.10/index.global.min.css" rel="stylesheet" />
    
    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet" />
</head>
<body>
    <div id="app">
        <header>
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">🎵</div>
                    <div class="logo-text">KONKUJIRA</div>
                </div>
                <button id="settings-button" class="settings-btn">⚙️</button>
            </div>
        </header>
        
        <main>
            <div id="calendar"></div>
        </main>
        
        <!-- Drawer Interface -->
        <div id="drawer" class="drawer" role="dialog" aria-modal="true" aria-labelledby="drawer-title">
            <div class="drawer-content">
                <div class="drawer-header">
                    <h2 id="drawer-title">スケジュール入力</h2>
                    <button id="drawer-close" class="close-btn" aria-label="閉じる">&times;</button>
                </div>
                
                <div class="drawer-tabs">
                    <button id="availability-tab" class="tab-btn active">空き状況</button>
                    <button id="event-tab" class="tab-btn">イベント</button>
                    <button id="details-tab" class="tab-btn">詳細</button>
                </div>
                
                <div id="availability-form" class="form-content">
                    <!-- Availability form will be populated by JavaScript -->
                </div>
                
                <div id="event-form" class="form-content hidden">
                    <!-- Event form will be populated by JavaScript -->
                </div>
                
                <div id="details-form" class="form-content hidden">
                    <!-- Details view will be populated by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Member Selection Modal -->
        <div id="nickname-modal" class="modal">
            <div class="modal-content">
                <h2>メンバーを選択してください</h2>
                <div class="member-selection">
                    <select id="member-select" class="member-select">
                        <option value="">メンバーを選択...</option>
                        <option value="COKAI" data-color="blue">🎸 COKAI</option>
                        <option value="YUSUKE" data-color="green">🥁 YUSUKE</option>
                        <option value="ZEN" data-color="yellow">🎹 ZEN</option>
                        <option value="YAMCHI" data-color="pink">🎤 YAMCHI</option>
                    </select>
                </div>
                <button id="nickname-submit" disabled>選択</button>
                <p class="user-note">※ 同じユーザーで新しいデータを保存すると、以前のデータは上書きされます</p>
            </div>
        </div>
        
        <!-- Loading Indicator -->
        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
        </div>
    </div>
    
    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.10/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.10/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.10/index.global.min.js"></script>
    
    <!-- Application JS -->
    <script src="js/config.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/storage-manager.js"></script>
    <script src="js/api.js"></script>
    <script src="js/network-status.js"></script>
    <script src="js/sync-manager.js"></script>
    <script src="js/holidays.js"></script>
    <script src="js/holiday-display.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/drawer.js"></script>

    <script src="js/stats-overlay.js"></script>
    <script src="js/nickname.js"></script>
    <script src="js/app.js"></script>
</body>
</html>